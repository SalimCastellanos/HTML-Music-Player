@import "variables";

.player-upper-container {
    margin-top: 12px;
}

$button-size: 20px;
$big-button-size: 26px;

$button-width: 34px;
$volume-slider-width: 90px;

$picture-width: 90px;
$picture-height: $picture-width;
$upper-height: 32px;
$lower-height: $picture-height - $upper-height;
$big-button-width: min($lower-height, 54px);

.no-touch {
    .grid-button-container:hover {
        color: #000;
        text-shadow: 1px 1px 1px #aaa;
    }

    .grid-button-container.disabled:hover {
        text-shadow: none;
    }
}

.coverart-and-controls-container {
    background: linear-gradient(to bottom, #FFF 0%, #fafafa 100%);
    color: #666;

    .grid-button-container {
        align-self: stretch;
        justify-self: stretch;

        .icon {
            display: block;
            font-size: $button-size;
            width: $button-size;
            height: $button-size;
            margin: floor(($lower-height - $button-size) / 2) - 2px auto;
        }

        .icon.glyphicon.glyphicon-volume-off {
            color: #960707;
        }

        &.disabled {
            opacity: 0.3;
        }
    }

    .picture-container {
        grid-area: picture;
        img {
            height: $picture-height;
            width: $picture-width;
        }

    }

    .track-status-container {
        grid-area: track-status;
        position: relative;
        overflow: hidden;
        border-top-right-radius: $subtle-radius;
        background: linear-gradient(to bottom, #FFF 0%,#F6F6F6 47%,#EDEDED 100%);
        border-bottom: 1px solid #eee;

        .track-ticker-container {
            text-shadow: 1px 1px 1px #111;
            color: #fcfcfc;
            font-weight: bold;
            font-size: $text-size;
            line-height: 14px;
            text-align: center;
            white-space: nowrap;
            background-color: transparent;
            margin: 0px auto;
            width: 97%;

            .track-ticker {
                margin-top: 7px;
                cursor: default;
                display: inline-block;
                vertical-align: top;
            }
        }

        .track-progress-fill {
            top: 0;
            left: 0;
            position: absolute;
            @include translate3d(-100%, 0, 0);
            will-change: transform;
            height: 100%;
            width: 100%;
            background: linear-gradient(to bottom, #dbf1fb 0%,#b8e4f6 100%);
            cursor: default;
            border-radius: 2px;
        }
    }

    .mute-button-container {
        grid-area: mute-button;
    }

    .volume-slider-container {
        grid-area: volume-slider;
        padding: 0px 5px;
        .volume-slider {
            margin-top: floor(($lower-height - $slider-input-area-size) / 2);
        }
    }

    .favorite-container {
        grid-area: favorite;
    }

    .previous-button-container {
        grid-area: previous-button;
    }

    .play-pause-button-container {
        grid-area: play-pause-button;

        .play-pause-morph-icon-container {
            position: relative;
            overflow: hidden;
            width: $big-button-width;
            height: $big-button-width;
            margin-top: floor(($lower-height - $big-button-width) / 2);
            border: 1px solid #333;
            box-sizing: border-box;

            border-radius: 50%;

            .play-pause-morph-icon {
                position: absolute;
                left: floor(($big-button-width - $big-button-size) / 2);
                top: floor(($big-button-width - $big-button-size) / 2) - 2px;
                width: $big-button-size;
                height: $big-button-size;
                transition: transform 0.4s ease;
                @include translateY(0);

                .glyphicon-play {
                    @include translateY(0);
                }

                .glyphicon-pause {
                    @include translateY(-($big-button-size + floor(($big-button-width - $big-button-size) / 2)));
                }

                &.pause {
                    @include translateY(($big-button-size + floor(($big-button-width - $big-button-size) / 2)));
                }

                &.play {
                    @include translateY(0);
                }
            }

            .icon {
                font-size: $big-button-size;
                width: $big-button-size;
                height: $big-button-size;
                position: absolute;
                margin: 0 !important;
                padding: 0 !important;
                top: 0;
                left: 0;

            }
        }

    }

    .next-button-container {
        grid-area: next-button;
    }

    border-bottom: 1px solid #fbfbfb;
    @include border-right-radius($subtle-radius);
    display: grid;
    grid-template-columns: $picture-width $button-width $volume-slider-width auto $button-width $big-button-width $button-width;
    grid-template-rows: $upper-height $lower-height;
    grid-template-areas:
        "picture track-status track-status track-status track-status track-status track-status"
        "picture mute-button volume-slider favorite previous-button play-pause-button next-button";
}

.playback-status-wrapper {
    width: 100%;
    height: 19px;
    font-size: $text-size;
    line-height: 15px;
    position: relative;
    white-space: nowrap;
    z-index: 1;
    margin: 0px;
    color: #7a7a7a;
    overflow: hidden;
}

.playback-status-wrapper .slanted {
    position: relative;
    display: inline-block;
    vertical-align: top
}

.playback-status-wrapper .current-time-container,
.playback-status-wrapper .total-time-container {
    cursor: default;
}

.playback-status-wrapper .time-container {
    width: 40px;
    text-align: center;
    position: absolute;
    bottom: 0px;
    @include translateY(0);
    transition: transform .4s cubic-bezier(.55, 0, .1, 1);
}

.playback-status-wrapper .time-container.hidden {
    @include translateY(100%);
}

.playback-status-wrapper .current-time-container {
    padding: 4px 4px 0px 4px;
    margin-left: 35px;
}

.playback-status-wrapper .total-time-container {
    padding: 4px 4px 0px 4px;
    position: absolute;
    right: 35px;
}

.playback-status-wrapper .time-container .total-time,
.playback-status-wrapper .time-container .current-time {
    width: 40px;
    height: 16px;
}

.slanted {
    border-top: 1px solid #ECECEC;
    background: linear-gradient(to top, #FFF 0%,#F3F3F3 100%);
}

.slanted.left-side-slant {
    border-top-right-radius: 8px;
}

.slanted.right-side-slant {
    border-top-left-radius: 8px;
}


.slanted.left-side-slant:before,
.slanted.right-side-slant:after {
    position: absolute;
    bottom: 0px;
    width: 15px;
    height: 19px;
    content: " ";
    border: 1px solid #ECECEC;
    border-bottom: none;
    background: linear-gradient(to top, #FFF 0%,#F3F3F3 100%);
    z-index: 3;
}

.slanted.left-side-slant:before {
    left: -12px;
    border-right: none;
    border-top-left-radius: 6px;
    @include skew1(-23deg);
}

.slanted.right-side-slant:after {
    right: -12px;
    border-left: none;
    border-top-right-radius: 6px;
    @include skew1(23deg);
}

.mode-active {
    background-color: #CBDFED;
}
